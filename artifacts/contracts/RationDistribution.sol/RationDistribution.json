{
  "_format": "hh-sol-artifact-1",
  "contractName": "RationDistribution",
  "sourceName": "contracts/RationDistribution.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "beneficiary_id_hash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "shop_id",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "ai_fraud_score",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "FraudAlert",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "beneficiary_id_hash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "requested",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "remaining",
          "type": "uint256"
        }
      ],
      "name": "QuotaExceeded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "beneficiary_id_hash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "shop_id",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "quantity",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "ai_fraud_score",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "status",
          "type": "bool"
        }
      ],
      "name": "TransactionRecorded",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DEFAULT_QUOTA",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "FRAUD_SCORE_THRESHOLD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "beneficiaryMonthlyConsumed",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "beneficiaryMonthlyQuota",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getTransaction",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "beneficiary_id_hash",
              "type": "bytes32"
            },
            {
              "internalType": "string",
              "name": "shop_id",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "quantity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "region",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "ai_fraud_score",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "verification_status",
              "type": "bool"
            }
          ],
          "internalType": "struct RationDistribution.Transaction",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTransactionCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_beneficiary_id_hash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "_shop_id",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_quantity",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_region",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_ai_fraud_score",
          "type": "uint256"
        }
      ],
      "name": "recordTransaction",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "transactions",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "beneficiary_id_hash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "shop_id",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "quantity",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "region",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "ai_fraud_score",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "verification_status",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610b6d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80638926e1e01161005b5780638926e1e0146100ec5780639ace38c214610101578063a5d2f0cf14610127578063d5a53ec71461014757600080fd5b80632e7700f01461008d57806333ea3dc8146100a45780634540951e146100c45780637aec2d24146100cc575b600080fd5b6002545b6040519081526020015b60405180910390f35b6100b76100b23660046106bb565b61014f565b60405161009b919061071a565b610091603281565b6100916100da3660046106bb565b60016020526000908152604090205481565b6100ff6100fa366004610838565b610322565b005b61011461010f3660046106bb565b610559565b60405161009b97969594939291906108b7565b6100916101353660046106bb565b60006020819052908152604090205481565b610091604681565b6101946040518060e001604052806000801916815260200160608152602001600081526020016000815260200160608152602001600081526020016000151581525090565b600282815481106101a7576101a761090a565b90600052602060002090600702016040518060e0016040529081600082015481526020016001820180546101da90610920565b80601f016020809104026020016040519081016040528092919081815260200182805461020690610920565b80156102535780601f1061022857610100808354040283529160200191610253565b820191906000526020600020905b81548152906001019060200180831161023657829003601f168201915b50505050508152602001600282015481526020016003820154815260200160048201805461028090610920565b80601f01602080910402602001604051908101604052809291908181526020018280546102ac90610920565b80156102f95780601f106102ce576101008083540402835291602001916102f9565b820191906000526020600020905b8154815290600101906020018083116102dc57829003601f168201915b50505091835250506005820154602082015260069091015460ff16151560409091015292915050565b6000858152602081905260408120549081900361033d575060325b6000868152600160205260408120549081831161035b576000610365565b6103658284610970565b905060468411156103b457877fe5c0ce3765c5a03ee1c990a2f0dcfbdf4e89f32378fb9d194974a652929949538886426040516103a493929190610989565b60405180910390a2505050610552565b808611156103f457604080518781526020810183905289917fc987a5c89a60a505580c92f36818ad99f4b5dd4a41fa78a3ea5b4b6ae7f05a7f91016103a4565b600088815260016020526040812080548892906104129084906109dc565b90915550506040805160e081018252898152602081018981529181018890524260608201526080810187905260a08101869052600160c08201819052600280549182018155600052815160079091027f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace81019182559251919283927f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf909101906104bc9082610a3e565b506040820151600282015560608201516003820155608082015160048201906104e59082610a3e565b5060a0820151600582015560c0909101516006909101805460ff191691151591909117905560405189907fea79bd3100de7d21140cafd7b0cdb8ff4df6b16bc016133f8c4d513c1754b4e690610545908b908b9042908b90600190610afe565b60405180910390a2505050505b5050505050565b6002818154811061056957600080fd5b6000918252602090912060079091020180546001820180549193509061058e90610920565b80601f01602080910402602001604051908101604052809291908181526020018280546105ba90610920565b80156106075780601f106105dc57610100808354040283529160200191610607565b820191906000526020600020905b8154815290600101906020018083116105ea57829003601f168201915b50505050509080600201549080600301549080600401805461062890610920565b80601f016020809104026020016040519081016040528092919081815260200182805461065490610920565b80156106a15780601f10610676576101008083540402835291602001916106a1565b820191906000526020600020905b81548152906001019060200180831161068457829003601f168201915b50505050600583015460069093015491929160ff16905087565b6000602082840312156106cd57600080fd5b5035919050565b6000815180845260005b818110156106fa576020818501810151868301820152016106de565b506000602082860101526020601f19601f83011685010191505092915050565b60208152815160208201526000602083015160e060408401526107416101008401826106d4565b905060408401516060840152606084015160808401526080840151601f198483030160a085015261077282826106d4565b91505060a084015160c084015260c0840151151560e08401528091505092915050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126107bc57600080fd5b813567ffffffffffffffff808211156107d7576107d7610795565b604051601f8301601f19908116603f011681019082821181831017156107ff576107ff610795565b8160405283815286602085880101111561081857600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600080600060a0868803121561085057600080fd5b85359450602086013567ffffffffffffffff8082111561086f57600080fd5b61087b89838a016107ab565b955060408801359450606088013591508082111561089857600080fd5b506108a5888289016107ab565b95989497509295608001359392505050565b87815260e0602082015260006108d060e08301896106d4565b87604084015286606084015282810360808401526108ee81876106d4565b60a0840195909552505090151560c09091015295945050505050565b634e487b7160e01b600052603260045260246000fd5b600181811c9082168061093457607f821691505b60208210810361095457634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156109835761098361095a565b92915050565b60808152600061099c60808301866106d4565b8460208401528281036040840152601081526f486967682046726175642053636f726560801b602082015260408101915050826060830152949350505050565b808201808211156109835761098361095a565b601f821115610a3957600081815260208120601f850160051c81016020861015610a165750805b601f850160051c820191505b81811015610a3557828155600101610a22565b5050505b505050565b815167ffffffffffffffff811115610a5857610a58610795565b610a6c81610a668454610920565b846109ef565b602080601f831160018114610aa15760008415610a895750858301515b600019600386901b1c1916600185901b178555610a35565b600085815260208120601f198616915b82811015610ad057888601518255948401946001909101908401610ab1565b5085821015610aee5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60a081526000610b1160a08301886106d4565b90508560208301528460408301528360608301528215156080830152969550505050505056fea264697066735822122019d7c7290f149b416454d1da4a31ccb3363d06d1d37dd6fe156461727d05899264736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c80638926e1e01161005b5780638926e1e0146100ec5780639ace38c214610101578063a5d2f0cf14610127578063d5a53ec71461014757600080fd5b80632e7700f01461008d57806333ea3dc8146100a45780634540951e146100c45780637aec2d24146100cc575b600080fd5b6002545b6040519081526020015b60405180910390f35b6100b76100b23660046106bb565b61014f565b60405161009b919061071a565b610091603281565b6100916100da3660046106bb565b60016020526000908152604090205481565b6100ff6100fa366004610838565b610322565b005b61011461010f3660046106bb565b610559565b60405161009b97969594939291906108b7565b6100916101353660046106bb565b60006020819052908152604090205481565b610091604681565b6101946040518060e001604052806000801916815260200160608152602001600081526020016000815260200160608152602001600081526020016000151581525090565b600282815481106101a7576101a761090a565b90600052602060002090600702016040518060e0016040529081600082015481526020016001820180546101da90610920565b80601f016020809104026020016040519081016040528092919081815260200182805461020690610920565b80156102535780601f1061022857610100808354040283529160200191610253565b820191906000526020600020905b81548152906001019060200180831161023657829003601f168201915b50505050508152602001600282015481526020016003820154815260200160048201805461028090610920565b80601f01602080910402602001604051908101604052809291908181526020018280546102ac90610920565b80156102f95780601f106102ce576101008083540402835291602001916102f9565b820191906000526020600020905b8154815290600101906020018083116102dc57829003601f168201915b50505091835250506005820154602082015260069091015460ff16151560409091015292915050565b6000858152602081905260408120549081900361033d575060325b6000868152600160205260408120549081831161035b576000610365565b6103658284610970565b905060468411156103b457877fe5c0ce3765c5a03ee1c990a2f0dcfbdf4e89f32378fb9d194974a652929949538886426040516103a493929190610989565b60405180910390a2505050610552565b808611156103f457604080518781526020810183905289917fc987a5c89a60a505580c92f36818ad99f4b5dd4a41fa78a3ea5b4b6ae7f05a7f91016103a4565b600088815260016020526040812080548892906104129084906109dc565b90915550506040805160e081018252898152602081018981529181018890524260608201526080810187905260a08101869052600160c08201819052600280549182018155600052815160079091027f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace81019182559251919283927f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf909101906104bc9082610a3e565b506040820151600282015560608201516003820155608082015160048201906104e59082610a3e565b5060a0820151600582015560c0909101516006909101805460ff191691151591909117905560405189907fea79bd3100de7d21140cafd7b0cdb8ff4df6b16bc016133f8c4d513c1754b4e690610545908b908b9042908b90600190610afe565b60405180910390a2505050505b5050505050565b6002818154811061056957600080fd5b6000918252602090912060079091020180546001820180549193509061058e90610920565b80601f01602080910402602001604051908101604052809291908181526020018280546105ba90610920565b80156106075780601f106105dc57610100808354040283529160200191610607565b820191906000526020600020905b8154815290600101906020018083116105ea57829003601f168201915b50505050509080600201549080600301549080600401805461062890610920565b80601f016020809104026020016040519081016040528092919081815260200182805461065490610920565b80156106a15780601f10610676576101008083540402835291602001916106a1565b820191906000526020600020905b81548152906001019060200180831161068457829003601f168201915b50505050600583015460069093015491929160ff16905087565b6000602082840312156106cd57600080fd5b5035919050565b6000815180845260005b818110156106fa576020818501810151868301820152016106de565b506000602082860101526020601f19601f83011685010191505092915050565b60208152815160208201526000602083015160e060408401526107416101008401826106d4565b905060408401516060840152606084015160808401526080840151601f198483030160a085015261077282826106d4565b91505060a084015160c084015260c0840151151560e08401528091505092915050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126107bc57600080fd5b813567ffffffffffffffff808211156107d7576107d7610795565b604051601f8301601f19908116603f011681019082821181831017156107ff576107ff610795565b8160405283815286602085880101111561081857600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600080600060a0868803121561085057600080fd5b85359450602086013567ffffffffffffffff8082111561086f57600080fd5b61087b89838a016107ab565b955060408801359450606088013591508082111561089857600080fd5b506108a5888289016107ab565b95989497509295608001359392505050565b87815260e0602082015260006108d060e08301896106d4565b87604084015286606084015282810360808401526108ee81876106d4565b60a0840195909552505090151560c09091015295945050505050565b634e487b7160e01b600052603260045260246000fd5b600181811c9082168061093457607f821691505b60208210810361095457634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156109835761098361095a565b92915050565b60808152600061099c60808301866106d4565b8460208401528281036040840152601081526f486967682046726175642053636f726560801b602082015260408101915050826060830152949350505050565b808201808211156109835761098361095a565b601f821115610a3957600081815260208120601f850160051c81016020861015610a165750805b601f850160051c820191505b81811015610a3557828155600101610a22565b5050505b505050565b815167ffffffffffffffff811115610a5857610a58610795565b610a6c81610a668454610920565b846109ef565b602080601f831160018114610aa15760008415610a895750858301515b600019600386901b1c1916600185901b178555610a35565b600085815260208120601f198616915b82811015610ad057888601518255948401946001909101908401610ab1565b5085821015610aee5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60a081526000610b1160a08301886106d4565b90508560208301528460408301528360608301528215156080830152969550505050505056fea264697066735822122019d7c7290f149b416454d1da4a31ccb3363d06d1d37dd6fe156461727d05899264736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
